<!doctype html>
<html>

{% include 'head.html' %}

<head>
<script>

  $(document).ready(function() {
      var config = {
          pageLength: 200,
          // select: true,
          select: 'multi+shift',
          fixedHeader: true,
          colReorder: true,
          // dom: 'Bfrtip',
          // buttons: ['copy', 'excel', 'pdf'],
      };
      var table = $('#chains').DataTable(config);

      InstallDataTableFocus();


      // TODO(blais): Remove, this was replaced with a link.
      // When the Clear button is pressed, clear the selection.
      $('button#clear').click( function () {
          table.rows('.selected').deselect();
      } );

      // Redirect with a list of the selected chains.
      $('button#summarize').click( function () {
          var ids = table.rows('.selected').ids().join(",");
          window.open(`/summarize?chain_ids=${ids}`, '_blank');
      } );

      // Redirect with a list of the selected chains.
      $('button#stats').click( function () {
          var ids = table.rows('.selected').ids().join(",");
          window.open(`/stats?chain_ids=${ids}`, '_blank');
      } );
  });

</script>
</head>

<body>
{% include 'navigation.html' %}
<button id="clear">Clear</button>
<button id="summarize">Summarize</button>
<button id="stats">Stats</button>

{{ table|safe }}
<body>

</html>
